import{a as ne}from"./chunk-5KTGGSXW.js";import{a as Q,b as R,d as F,e as X,f as Y,g as V,h as ee,i as te,l as D,m as I,n as N,p as L}from"./chunk-T2OJ7X2R.js";import{h as T,i as K,l as w}from"./chunk-BVIXMAYM.js";import{Ba as S,Ga as _,Ma as u,Pa as y,Qa as U,Sa as j,Ta as z,U as $,Ua as e,V as m,Va as n,W as g,Wa as f,X as v,Y as C,Za as h,bb as c,ca as k,cb as d,gb as i,hb as P,ia as b,ib as x,jb as E,kb as Z,lb as q,mb as J,ob as W,qb as M,sa as s}from"./chunk-Y5JR5PA6.js";import{a as G,b as H}from"./chunk-2VMXMS7J.js";var oe=(o,a)=>({"bg-red-600 hover:bg-red-700 focus:ring-red-300 dark:focus:ring-red-800":o,"bg-green-600 hover:bg-green-700 focus:ring-green-300 dark:focus:ring-green-800":a});function le(o,a){if(o&1){let t=h();e(0,"div"),f(1,"div",0),e(2,"div",1)(3,"div",2),v(),e(4,"svg",3),f(5,"path",4),n(),C(),e(6,"h2",5),i(7,"\xBFEst\xE1s seguro?"),n(),e(8,"p",6),i(9),e(10,"strong"),i(11),n()(),e(12,"div",7)(13,"button",8),c("click",function(){m(t);let l=d();return g(l.onConfirm())}),i(14),n(),e(15,"button",9),c("click",function(){m(t);let l=d();return g(l.onCancel())}),i(16," Cancelar "),n()()()()()}if(o&2){let t=d();s(9),x(" Est\xE1s a punto de ",t.actionLabel," : "),s(2),P(t.itemName),s(2),u("ngClass",M(4,oe,t.actionType==="eliminar",t.actionType==="activar")),s(),x(" ",t.actionLabel," ")}}var O=class o{visible=!1;itemName="";actionLabel="Confirmar";actionType="activar";confirm=new k;cancel=new k;onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=S({type:o,selectors:[["tyn-planes-suscription-warning-modal-page"]],inputs:{visible:"visible",itemName:"itemName",actionLabel:"actionLabel",actionType:"actionType"},outputs:{confirm:"confirm",cancel:"cancel"},decls:1,vars:1,consts:[[1,"fixed","inset-0","bg-black","opacity-50","z-40"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"bg-white","rounded-lg","shadow-lg","max-w-md","w-full","p-4","md:p-5","text-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"mx-auto","mb-4","text-gray-400","w-12","h-12","dark:text-gray-200"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"text-lg","font-semibold","text-red-600"],[1,"mt-2","text-sm","text-gray-700"],[1,"flex","justify-center","mt-6","space-x-3","text-white"],["data-modal-hide","popup-modal","type","button",1,"focus:ring-4","focus:outline-none","font-medium","rounded-lg","text-sm","inline-flex","items-center","px-5","py-2.5","text-center",3,"click","ngClass"],["data-modal-hide","popup-modal","type","button",1,"py-2.5","px-5","ms-3","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-200","hover:border-gray-300","hover:text-gray-600","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700",3,"click"]],template:function(t,r){t&1&&_(0,le,17,7,"div"),t&2&&y(r.visible?0:-1)},dependencies:[w,T],encapsulation:2})};function de(o,a){if(o&1){let t=h();e(0,"div",14)(1,"label",45),i(2,"Comisi\xF3n por usuario (cuando usa sala de tynbiz)"),n(),e(3,"p",46),i(4," cuando el usuario usa sala de tynbiz con los productos de tienda,por el tiempo que pasa en sala, a la due\xF1a de tienda se va cobrar "),n(),e(5,"div",47)(6,"div",34)(7,"div",13)(8,"label",48),i(9,"Moneda"),n(),e(10,"select",49),c("ngModelChange",function(l){m(t);let p=d(2);return g(p.coin.set(l))}),e(11,"option",50),i(12," S/. "),n(),e(13,"option"),i(14," USD "),n()()(),e(15,"div")(16,"label",51),i(17," Monto "),n(),e(18,"input",52),c("ngModelChange",function(l){m(t);let p=d(2);return g(p.price.set(l))}),n()()(),e(19,"div")(20,"label",51),i(21," Tiempo en sala "),n(),e(22,"div",34)(23,"div"),f(24,"input",53),n(),e(25,"div",13)(26,"select",54)(27,"option"),i(28,"Seg."),n(),e(29,"option",50),i(30,"Min."),n(),e(31,"option"),i(32,"Hora"),n()()()()()()()}if(o&2){let t=d(2);s(10),u("ngModel",t.coin()),s(8),u("ngModel",t.price())}}function pe(o,a){if(o&1){let t=h();e(0,"div",14)(1,"label",45),i(2,"Precio plan"),n(),e(3,"div",34)(4,"div",13)(5,"label",48),i(6,"Moneda"),n(),e(7,"select",49),c("ngModelChange",function(l){m(t);let p=d(2);return g(p.coin.set(l))}),e(8,"option",50),i(9," S/. "),n(),e(10,"option"),i(11," USD "),n()()(),e(12,"div")(13,"label",51),i(14," Monto "),n(),e(15,"input",52),c("ngModelChange",function(l){m(t);let p=d(2);return g(p.price.set(l))}),n()()()()}if(o&2){let t=d(2);s(7),u("ngModel",t.coin()),s(8),u("ngModel",t.price())}}function ce(o,a){if(o&1){let t=h();e(0,"div",34)(1,"div")(2,"label",55),i(3," Descuento "),n(),e(4,"div",56)(5,"div",57),i(6," % "),n(),e(7,"input",58),c("ngModelChange",function(l){m(t);let p=d(2);return g(p.discount.set(l))}),n()()(),e(8,"div")(9,"label",55),i(10," Dias "),n(),e(11,"input",59),c("ngModelChange",function(l){m(t);let p=d(2);return g(p.promoDays.set(l))}),n()()()}if(o&2){let t=d(2);s(7),u("ngModel",t.discount()),s(4),u("ngModel",t.promoDays())}}function me(o,a){o&1&&i(0," Comision normal ")}function ge(o,a){if(o&1&&i(0),o&2){let t=d(2);x(" El pago ",t.selectedTypePlan()," normal ")}}function ue(o,a){o&1&&i(0," / Mes ")}function xe(o,a){o&1&&i(0," / A\xF1o ")}function _e(o,a){o&1&&i(0," por venta ")}function fe(o,a){if(o&1){let t=h();e(0,"div"),f(1,"div",0),e(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),i(7),n(),e(8,"button",6),c("click",function(){m(t);let l=d();return g(l.onClose())}),v(),e(9,"svg",7),f(10,"path",8),n(),C(),e(11,"span",9),i(12,"Close modal"),n()()(),e(13,"div",10)(14,"div",11)(15,"div",12)(16,"div")(17,"form",13)(18,"div",14)(19,"label",15),i(20," Nombre del plan suscripci\xF3n "),n(),e(21,"input",16),c("ngModelChange",function(l){m(t);let p=d();return g(p.namePlan.set(l))}),n()(),e(22,"div",14)(23,"label",17),i(24,"Descripci\xF3n"),n(),e(25,"textarea",18),c("ngModelChange",function(l){m(t);let p=d();return g(p.descriptionPlan.set(l))}),n()(),e(26,"div",14)(27,"label",17),i(28,"Tipo de plan"),n(),e(29,"div",19)(30,"div",20)(31,"input",21),c("change",function(){m(t);let l=d();return g(l.selectedTypePlan.set("uso de tynbiz"))}),n(),e(32,"label",22),i(33,"Uso de Tynbiz"),n()(),e(34,"div",20)(35,"input",23),c("change",function(){m(t);let l=d();return g(l.selectedTypePlan.set("mensual"))}),n(),e(36,"label",24),i(37,"Mensual"),n()(),e(38,"div",20)(39,"input",25),c("change",function(){m(t);let l=d();return g(l.selectedTypePlan.set("anual"))}),n(),e(40,"label",26),i(41,"Anual"),n()()()(),_(42,de,33,2,"div",14)(43,pe,16,2,"div",14),e(44,"div",14)(45,"label",17),i(46,"Estado"),n(),e(47,"select",27),c("ngModelChange",function(l){m(t);let p=d();return g(p.estado.set(l))}),e(48,"option",28),i(49,"Activo"),n(),e(50,"option",29),i(51,"Inactivo"),n()()(),e(52,"div",14)(53,"label",30)(54,"input",31),c("ngModelChange",function(l){m(t);let p=d();return g(p.isOffer.set(l))}),n(),e(55,"span",32),i(56,"Promoci\xF3n"),n(),f(57,"div",33),n()(),_(58,ce,12,2,"div",34),n()(),e(59,"div")(60,"h4",35),i(61,"Vista previa"),n(),e(62,"p",36),i(63," Esta es la vista de como se ver\xE1 el plan creado para las tiendas. "),n(),e(64,"div",37)(65,"h5",38),i(66),n(),e(67,"p",39),i(68),n(),e(69,"p",39),_(70,me,1,0)(71,ge,1,1),n(),e(72,"p",40),i(73),e(74,"span",41),_(75,ue,1,0)(76,xe,1,0)(77,_e,1,0),n()()()()(),e(78,"div",42)(79,"button",43),c("click",function(){m(t);let l=d();return g(l.onClose())}),i(80," Cancelar "),n(),e(81,"button",44),c("click",function(){m(t);let l=d();return g(l.onSave())}),i(82," Aplicar "),n()()()()()()()()}if(o&2){let t,r=d();s(7),x(" ",r.selectedPlan?"Editar plan de suscripci\xF3n":"Crear nuevo plan de suscripci\xF3n"," "),s(14),u("ngModel",r.namePlan()),s(4),u("ngModel",r.descriptionPlan()),s(17),y(r.selectedTypePlan()==="uso de tynbiz"?42:43),s(5),u("ngModel",r.estado()),s(7),u("ngModel",r.isOffer()),s(4),y(r.isOffer()===!0?58:-1),s(8),x(" ",r.namePlan()," "),s(2),x(" ",r.descriptionPlan()," "),s(2),y(r.selectedTypePlan()==="uso de tynbiz"?70:71),s(3),E(" ",r.coin()," ",r.price()," "),s(2),y((t=r.selectedTypePlan())==="mensual"?75:t==="anual"?76:t==="uso de tynbiz"?77:-1)}}var A=class o{visible=!1;selectedPlan=null;close=new k;save=new k;namePlan=b("");descriptionPlan=b("");price=b(0);coin=b("S/.");selectedTypePlan=b("uso de tynbiz");isOffer=b(!1);discount=b(0);promoDays=b(0);estado=b("activo");ngOnInit(){this.initForm()}ngOnChanges(a){(a.selectedPlan||a.visible)&&this.initForm()}initForm(){this.selectedPlan?(this.namePlan.set(this.selectedPlan.planName),this.descriptionPlan.set(this.selectedPlan.planDescription),this.price.set(this.selectedPlan.planPrice),this.coin.set(this.selectedPlan.planCoin),this.selectedTypePlan.set(this.selectedPlan.planType),this.estado.set(this.selectedPlan.planState),this.isOffer.set(this.selectedPlan.promotional==="true"),this.discount.set(this.selectedPlan.percentage||0),this.promoDays.set(this.selectedPlan.promDuration||0)):(this.namePlan.set(""),this.descriptionPlan.set(""),this.price.set(0),this.coin.set("USD"),this.selectedTypePlan.set("uso de tynbiz"),this.estado.set("activo"),this.isOffer.set(!1),this.discount.set(0),this.promoDays.set(0))}onClose(){this.close.emit()}onSave(){let a={id:this.selectedPlan?.id||Date.now(),planName:this.namePlan(),planDescription:this.descriptionPlan(),planPrice:this.price(),planCoin:this.coin(),planType:this.selectedTypePlan(),planState:this.estado(),promotional:this.isOffer()?"true":"false",percentage:this.discount(),promDuration:this.promoDays(),planDate:new Date().toISOString().split("T")[0]};this.save.emit(a)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=S({type:o,selectors:[["tyn-planes-suscription-form-modal-page"]],inputs:{visible:"visible",selectedPlan:"selectedPlan"},outputs:{close:"close",save:"save"},features:[$],decls:1,vars:1,consts:[[1,"fixed","inset-0","bg-black","opacity-50","z-40"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"relative","p-4","w-full","max-w-4xl","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow-sm","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","mb-4","border-b","rounded-t","dark:border-gray-600","border-gray-200"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","space-y-4"],[1,"relative","overflow-x-auto"],[1,"grid","grid-cols-1","m-2","md:grid-cols-2","gap-4"],[1,""],[1,"mb-5"],["for","base-input",1,"block","mb-2","text-sm","font-bold","text-gray-900","dark:text-white"],["type","text","id","base-input","name","name",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["for","message",1,"block","mb-2","text-sm","font-bold","text-gray-900","dark:text-white"],["id","message","rows","4","name","desc","placeholder","Descripci\xF3n del Plan",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-purple-500","focus:border-purple-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],[1,"flex","ml-2"],[1,"flex","items-center","me-4"],["id","inline-radio","type","radio","name","type",1,"w-4","h-4","text-purple-600","bg-gray-100","border-gray-300","focus:ring-purple-500","dark:focus:ring-purple-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],["for","inline-radio",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["id","inline-2-radio","type","radio","name","type",1,"w-4","h-4","text-purple-600","bg-gray-100","border-gray-300","focus:ring-purple-500","dark:focus:ring-purple-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],["for","inline-2-radio",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["id","inline-checked-radio","type","radio","name","type",1,"w-4","h-4","text-purple-600","bg-gray-100","border-gray-300","focus:ring-purple-500","dark:focus:ring-purple-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],["for","inline-checked-radio",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["name","estado",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["value","activo","selected",""],["value","inactivo"],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","name","Offer","value","isOffer",1,"sr-only","peer",3,"ngModelChange","ngModel"],[1,"text-sm","mr-3","font-bold","text-gray-900","dark:text-gray-300"],[1,"relative","w-11","h-6","bg-gray-200","rounded-full","peer","peer-focus:ring-4","peer-focus:ring-purple-300","dark:peer-focus:ring-purple-800","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-0.5","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-purple-600","dark:peer-checked:bg-purple-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text-sm","font-bold"],[1,"text-sm","font-normal"],[1,"max-w-sm","m-5","p-6","bg-white","border","text-center","border-gray-200","rounded-lg","shadow-sm","dark:bg-gray-800","dark:border-gray-700"],[1,"mb-2","text-xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mb-3","text-sm","font-normal","text-gray-700","dark:text-gray-400"],[1,"w-full","text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"font-normal"],[1,"flex","justify-end","mt-6"],["type","button",1,"py-2.5","px-5","ms-3","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-200","hover:border-gray-300","hover:text-gray-600","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700",3,"click"],["type","submit",1,"bg-purple-600","ml-6","hover:bg-purple-800","text-white","focus:ring-purple-300","dark:focus:ring-purple-800","focus:ring-4","focus:outline-none","font-medium","rounded-lg","text-sm","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],["for","message",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-sm","font-normal","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mt-5"],["for","message",1,"block","mb-2","text-sm","font-normal","text-gray-900","dark:text-white"],["id","coin","name","coin",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["selected",""],["for","base-input",1,"block","mb-2","text-sm","font-normal","text-gray-900","dark:text-white"],["type","number","id","base-input","name","price",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["type","number","id","base-input",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500"],["id","status",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500"],["for","base-input",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"relative","mb-6"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3.5","pointer-events-none"],["type","number","id","base-input","name","discount",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","ps-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["type","number","id","base-input","name","days",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&_(0,fe,83,13,"div"),t&2&&y(r.visible?0:-1)},dependencies:[L,ee,I,N,R,te,Q,D,F,X,V,Y,w],encapsulation:2})};var be=()=>[5,10,15,20,50],ye=()=>[],he=(o,a)=>({"text-red-500":o,"text-green-500":a}),ve=(o,a)=>({"z-10 text-purple-600 border-purple-400 bg-purple-300 hover:bg-purple-100 hover:text-purple-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":o,"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white":a}),Ce=(o,a)=>a.id;function Pe(o,a){if(o&1&&(e(0,"td",30),i(1),f(2,"br"),e(3,"span",37),i(4),n()()),o&2){let t=d().$implicit;s(),x(" Por ",t.promDuration," d\xEDas "),s(3),x(" ",t.percentage,"% de descuento ")}}function ke(o,a){o&1&&(e(0,"td",30),i(1," --- "),n())}function Se(o,a){if(o&1){let t=h();e(0,"li",39),c("click",function(){m(t);let l=d(3);return g(l.openModalWar("activar"))}),i(1," Activar "),n()}}function we(o,a){if(o&1){let t=h();e(0,"div",36)(1,"ul",38)(2,"li",39),c("click",function(){m(t);let l=d().$implicit,p=d();return g(p.openFormModal("editar",l))}),i(3," Editar "),n(),e(4,"li",39),c("click",function(){m(t);let l=d(2);return g(l.openModalWar("eliminar"))}),i(5," Eliminar "),n(),_(6,Se,2,0,"li",40),n()()}if(o&2){let t=d().$implicit;s(6),y(t.planState==="inactivo"?6:-1)}}function Me(o,a){if(o&1){let t=h();e(0,"tr",9)(1,"th",27),i(2),n(),e(3,"td",28),i(4),n(),e(5,"td",29),i(6),n(),e(7,"td",29),i(8),n(),_(9,Pe,5,2,"td",30)(10,ke,2,0,"td",30),e(11,"td",29),i(12),n(),e(13,"td",29),i(14),n(),e(15,"td",31)(16,"div",32)(17,"button",33),c("click",function(){let l=m(t).$implicit,p=d();return g(p.toggleDropdown(l))}),v(),e(18,"svg",34),f(19,"path",35),n()(),_(20,we,7,1,"div",36),n()()()}if(o&2){let t=a.$implicit,r=d();s(2),x(" ",t.planName," "),s(),u("ngClass",M(10,he,t.planState==="inactivo",t.planState==="activo")),s(),x(" ",t.planState," "),s(2),E("",t.planCoin," ",t.planPrice,""),s(2),P(t.planType),s(),y(t.promotional==="true"?9:10),s(3),P(t.planDescription),s(2),P(t.planDate),s(6),y(r.openDropdownIndex===t.id?20:-1)}}function Ee(o,a){if(o&1&&(e(0,"option",14),i(1),n()),o&2){let t=a.$implicit;u("value",t),s(),P(t)}}function Te(o,a){if(o&1){let t=h();e(0,"li")(1,"button",41),c("click",function(){let l=m(t).index,p=d();return g(p.setPage(l+1))}),i(2),n()()}if(o&2){let t=a.index,r=d();s(),u("ngClass",M(2,ve,r.currentPage===t+1,r.currentPage!==t+1)),s(),x(" ",t+1," ")}}var B=class o{planList=ne;selectedPlan=!0;openDropdownIndex=null;currentPage=1;itemsPerPage=10;modalVisible=!1;currentAction="eliminar";toggleDropdown(a){this.selectedPlan=a,this.openDropdownIndex=this.openDropdownIndex===a.id?null:a.id}openModalWar(a){this.modalVisible=!0,this.currentAction=a,this.openDropdownIndex=null}confirmAction(){this.currentAction==="eliminar"?this.planList=this.planList.filter(a=>a.id!==this.selectedPlan.id):this.currentAction==="activar"&&(this.planList=this.planList.map(a=>a.id===this.selectedPlan.id?H(G({},a),{planState:"activo"}):a)),this.closeModalWar()}closeModalWar(){this.modalVisible=!1,this.selectedPlan=null}totalPages(){return Math.ceil(this.planList.length/this.itemsPerPage)}get paginatedData(){let a=(this.currentPage-1)*this.itemsPerPage;return this.planList.slice(a,this.currentPage*this.itemsPerPage)}goToPage(a){a>=1&&a<=this.totalPages()&&(this.currentPage=a)}setPage(a){this.currentPage=a}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages()&&this.currentPage++}onItemsPerPageChange(a){this.itemsPerPage=a,this.currentPage=1}formModalVisible=b(!1);modalMode="crear";openFormModal(a,t=null){this.modalMode=a,this.selectedPlan=t,this.formModalVisible.set(!0),this.openDropdownIndex=null}closeFormModal(){this.formModalVisible.set(!1),this.selectedPlan=null}onSavePlan(a){if(this.modalMode==="crear")this.planList.push(a);else{let t=this.planList.findIndex(r=>r.id===a.id);t!==-1&&(this.planList[t]=a)}this.closeFormModal()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=S({type:o,selectors:[["tyn-planes-suscription-page"]],decls:59,vars:12,consts:[[1,"relative","overflow-x-auto","shadow-md","px-5","pb-5","md:pb-10","md:px-10","m-4"],[1,"mb-6","mt-2","text-gray-900","dark:text-white","flex","justify-between"],[1,"text-2xl","font-semibold"],["data-modal-hide","default-modal","type","button",1,"text-white","bg-purple-700","ml-4","hover:bg-purple-900","focus:ring-4","focus:outline-none","focus:ring-purple-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-purple-600","dark:hover:bg-purple-700","dark:focus:ring-purple-800",3,"click"],[1,"overflow-x-auto"],[1,"relative","shadow-md","rounded-md"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"flex","justify-between"],[1,"flex","my-6","items-center"],[1,"text-sm","text-gray-700"],[1,"justify-center","ml-2","block","w-14","py-0","px-2","h-8","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-purple-500","focus:border-purple-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],[3,"value"],[1,"justify-end"],["aria-label","Page navigation example ",1,"my-6","flex","justify-center"],[1,"flex","items-center","-space-x-px","h-8","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-2.5","h-2.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[3,"close","save","visible","selectedPlan"],[3,"confirm","cancel","visible","itemName","actionLabel","actionType"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4",3,"ngClass"],[1,"px-6","py-4"],[1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"relative","px-6","py-4"],[1,"relative","inline-block"],[1,"text-xl","px-2","py-1",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 4 15",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["d","M3.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6.041a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 5.959a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"],[1,"absolute","right-0","mt-2","w-40","bg-white","border","border-purple-400","rounded-md","shadow-lg","z-50","dark:bg-purple-700"],[1,"text-green-600"],[1,"text-sm","text-gray-700","dark:text-gray-200"],[1,"block","px-4","py-2","hover:bg-purple-300","dark:hover:bg-purple-600","cursor-pointer",3,"click"],[1,"block","px-4","py-2","hover:bg-purple-300","dark:hover:bg-purple-600","cursor-pointer"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","border",3,"click","ngClass"]],template:function(t,r){t&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),i(4,"Plan de suscripci\xF3n"),n(),e(5,"p"),i(6," Planes de suscripci\xF3n para que las tiendas puedan elegir y vender en la plataforma "),n()(),e(7,"div")(8,"button",3),c("click",function(){return r.openFormModal("crear")}),i(9," Crear nuevo plan "),n()()(),e(10,"div",4)(11,"div",5)(12,"table",6)(13,"thead",7)(14,"tr")(15,"th",8),i(16,"Nombre"),n(),e(17,"th",8),i(18,"Estado"),n(),e(19,"th",8),i(20,"Precio"),n(),e(21,"th",8),i(22,"Tipo"),n(),e(23,"th",8),i(24,"Promocion"),n(),e(25,"th",8),i(26,"Descripcion"),n(),e(27,"th",8),i(28,"Fecha"),n(),e(29,"th",8),i(30,"Opci\xF3n"),n()()(),e(31,"tbody"),j(32,Me,21,13,"tr",9,Ce),n()()(),e(34,"div",10)(35,"div",11)(36,"p",12),i(37,"Filas por p\xE1gina:"),n(),e(38,"select",13),J("ngModelChange",function(p){return q(r.itemsPerPage,p)||(r.itemsPerPage=p),p}),c("ngModelChange",function(p){return r.onItemsPerPageChange(p)}),j(39,Ee,2,2,"option",14,U),n()(),e(41,"div",15)(42,"nav",16)(43,"ul",17)(44,"li")(45,"button",18),c("click",function(){return r.prevPage()}),e(46,"span",19),i(47,"Previous"),n(),v(),e(48,"svg",20),f(49,"path",21),n()()(),_(50,Te,3,5,"li",22),C(),e(51,"li")(52,"button",23),c("click",function(){return r.nextPage()}),e(53,"span",19),i(54,"Next"),n(),v(),e(55,"svg",20),f(56,"path",24),n()()()()()()()()(),C(),e(57,"tyn-planes-suscription-form-modal-page",25),c("close",function(){return r.closeFormModal()})("save",function(p){return r.onSavePlan(p)}),n(),e(58,"tyn-planes-suscription-warning-modal-page",26),c("confirm",function(){return r.confirmAction()})("cancel",function(){return r.closeModalWar()}),n()),t&2&&(s(32),z(r.planList),s(6),Z("ngModel",r.itemsPerPage),s(),z(W(10,be)),s(6),u("disabled",r.currentPage===1),s(5),u("ngForOf",W(11,ye).constructor(r.totalPages())),s(2),u("disabled",r.currentPage===r.totalPages()),s(5),u("visible",r.formModalVisible())("selectedPlan",r.selectedPlan),s(),u("visible",r.modalVisible)("itemName",r.selectedPlan==null?null:r.selectedPlan.planName)("actionLabel",r.currentAction==="eliminar"?"Eliminar":"Activar")("actionType",r.currentAction))},dependencies:[w,T,K,L,I,N,D,F,V,O,A],encapsulation:2})};export{B as default};
