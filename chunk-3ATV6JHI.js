import{a as ne}from"./chunk-L2HQSF5P.js";import{a as D}from"./chunk-EI4FMTY2.js";import"./chunk-FRRHMJDX.js";import{a as ie}from"./chunk-DAMFCZTK.js";import{b as M,c as _,d as E,e as q,g as Z,h as J,j as K,k as Q,l as X,m as Y,n as $,o as ee,p as te,q as re}from"./chunk-T2OJ7X2R.js";import{h as P,k as z,l as F}from"./chunk-BVIXMAYM.js";import{Ba as C,Ga as y,Ma as m,P as B,Pa as h,Ra as W,Sa as R,Ta as V,Ua as t,V as T,Va as r,W as N,Wa as g,X as f,Y as b,Za as A,bb as p,cb as u,gb as n,hb as c,ia as U,ib as S,kb as x,lb as k,mb as v,ob as G,pb as w,qb as I,sa as o,sb as O,ub as H}from"./chunk-Y5JR5PA6.js";import"./chunk-2VMXMS7J.js";var ae=l=>({" text-red-700 dark:text-red-500":l}),oe=l=>({" border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500 focus:border-red-500 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500 ":l});function pe(l,a){if(l&1&&(t(0,"p",5)(1,"span",9),n(2),r()()),l&2){let i=u();o(2),c(i.formUtils.getFieldError(i.myForm,"role"))}}function ce(l,a){if(l&1&&(t(0,"p",5)(1,"span",9),n(2),r()()),l&2){let i=u();o(2),c(i.formUtils.getFieldError(i.myForm,"description"))}}var L=class l{_fb=B(ee);formUtils=ie;myForm=this._fb.group({role:["",[_.required,_.minLength(3)]],description:["",[_.required,_.minLength(6)]]});onSave(){if(this.myForm.invalid){this.myForm.markAllAsTouched();return}console.log("Form submitted",this.myForm.value),this.myForm.reset()}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=C({type:l,selectors:[["tyn-form-new-role-page"]],decls:16,vars:15,consts:[[1,"p-4","md:p-5","space-y-4"],["autocomplete","off",1,"",3,"ngSubmit","formGroup"],[1,"grid","gap-6","mb-6","md:grid-cols-2"],["for","role",1,"block","mb-2","text-sm","font-medium",3,"ngClass"],["type","text","id","role","formControlName","role",1,"border","text-sm","rounded-lg","dark:bg-gray-700","block","w-full","p-2.5","focus:border-purple-800",3,"ngClass"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],["for","description",1,"block","mb-2","text-sm","font-medium",3,"ngClass"],["type","text","id","description","formControlName","description",1,"border","text-sm","rounded-lg","dark:bg-gray-700","block","w-full","p-2.5","focus:border-purple-800",3,"ngClass"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"font-medium"]],template:function(i,e){i&1&&(t(0,"div",0)(1,"div")(2,"form",1),p("ngSubmit",function(){return e.onSave()}),t(3,"div",2)(4,"div")(5,"label",3),n(6,"Nombre del rol"),r(),g(7,"input",4),y(8,pe,3,1,"p",5),r(),t(9,"div")(10,"label",6),n(11,"Descripci\xF3n"),r(),g(12,"input",7),y(13,ce,3,1,"p",5),r()()()(),t(14,"div",8),g(15,"tyn-user-detail-privilege-page"),r()()),i&2&&(o(2),m("formGroup",e.myForm),o(3),m("ngClass",w(7,ae,e.formUtils.isValiedField(e.myForm,"role"))),o(2),m("ngClass",w(9,oe,e.formUtils.isValiedField(e.myForm,"role"))),o(),h(e.formUtils.isValiedField(e.myForm,"role")?8:-1),o(2),m("ngClass",w(11,ae,e.formUtils.isValiedField(e.myForm,"description"))),o(2),m("ngClass",w(13,oe,e.formUtils.isValiedField(e.myForm,"description"))),o(),h(e.formUtils.isValiedField(e.myForm,"description")?13:-1))},dependencies:[ne,re,J,M,E,q,K,Q,F,P],encapsulation:2})};var ue=()=>[],fe=(l,a)=>({"bg-red-100 text-red-800":l,"bg-yellow-100 text-yellow-800":a}),be=(l,a)=>({"z-10 text-purple-600 border-purple-400 bg-purple-300 hover:bg-purple-100 hover:text-purple-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":l,"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white":a}),ye=(l,a)=>a.id;function he(l,a){if(l&1&&(t(0,"tr",23)(1,"th",41),n(2),r(),t(3,"td",42),n(4),r(),t(5,"td",42),n(6),O(7,"date"),r(),t(8,"td",42)(9,"span",43),n(10),r()(),t(11,"td",44),n(12),r(),t(13,"td",44),n(14),r(),t(15,"td",44),n(16,"...."),r()()),l&2){let i=a.$implicit;o(2),S(" ",i.name," "),o(2),c(i.description),o(2),c(H(7,7,i.dateCreate,"medium")),o(3),m("ngClass",I(10,fe,i.status=="Activo",i.status==="Inactivo")),o(),S(" ",i.status," "),o(2),c(i.cantHabitity),o(2),c(i.cantSuspenden)}}function xe(l,a){if(l&1){let i=A();t(0,"li")(1,"button",45),p("click",function(){let s=T(i).$index,d=u();return N(d.setPage(s+1))}),n(2),r()()}if(l&2){let i=a.$index,e=u();o(),m("ngClass",I(2,be,e.currentPage===i+1,e.currentPage!==i+1)),o(),S(" ",i+1," ")}}function ke(l,a){if(l&1){let i=A();t(0,"div",46),p("click",function(){T(i);let s=u();return N(s.isModalOpen.set(!1))}),r()}}var j=class l{rolLists=[...D];isState="All";currentPage=1;itemsPerPage=5;search="";startDate="";endDate="";isModalOpen=U(!1);filterByStatus(a){let e=a==="All"?D:D.filter(s=>s.status===a);this.rolLists=[...e]}get filteredData(){return this.rolLists.filter(a=>{let i=a.name.toLowerCase().includes(this.search.toLowerCase()),e=new Date(a.dateCreate),s=this.startDate?new Date(this.startDate):null,d=this.endDate?new Date(this.endDate):null,le=(!s||e>=s)&&(!d||e<=d);return i&&le})}get paginatedData(){let a=(this.currentPage-1)*this.itemsPerPage;return this.filteredData.slice(a,a+this.itemsPerPage)}totalPages(){return Math.ceil(this.filteredData.length/this.itemsPerPage)}goToPage(a){a>=1&&a<=this.totalPages()&&(this.currentPage=a)}setPage(a){this.currentPage=a}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages()&&this.currentPage++}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=C({type:l,selectors:[["tyn-list-role-page"]],decls:77,vars:9,consts:[[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg","px-10"],[1,"mb-6","text-gray-900","dark:text-white","flex","items-center","justify-between"],[1,"text-2xl","font-semibold"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","me-2","mb-2","dark:bg-blue-600","dark:hover:bg-blue-700","focus:outline-none","dark:focus:ring-blue-800","focus:outline-violet-500","active:bg-violet-700",3,"click"],[1,"fa-solid","fa-plus","ms-2"],[1,"flex","items-center","justify-between","pb-4"],[1,"relative"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","placeholder","Buscar rol",1,"block","w-full","p-2.5","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-purple-500","focus:border-purple-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],[1,"flex","items-center"],[1,"mx-4","text-gray-500"],["type","date","placeholder","Fecha desde",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["type","date","placeholder","Fecha hasta",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],[1,"relative","w-48"],["id","status",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["ngValue","All","selected",""],["ngValue","Activo"],["ngValue","Inactivo"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","overflow-x-auto"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600"],["aria-label","Page navigation example ",1,"my-6","flex","justify-center"],[1,"flex","items-center","-space-x-px","h-8","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-2.5","h-2.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[1,"fixed","inset-0","bg-black","opacity-50","z-40"],["id","default-modal","tabindex","-1","aria-hidden","true",1,"fixed","inset-0","z-50","flex","items-center","justify-center",3,"ngClass"],[1,"relative","w-full","max-w-3xl","m-4","md:max-h-[90vh]","bg-white","rounded-lg","shadow","dark:bg-gray-700","overflow-hidden"],[1,"relative","bg-white","rounded-lg","shadow-sm","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600","border-gray-200"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4"],[1,"inline-flex","items-center","text-xs","font-medium","px-2.5","py-0.5","rounded-full",3,"ngClass"],[1,"px-6","py-4","text-center"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","border",3,"click","ngClass"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"]],template:function(i,e){i&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Lista de roles"),r(),t(4,"button",3),p("click",function(){return e.isModalOpen.set(!0)}),g(5,"i",4),n(6," Agregar rol "),r()(),t(7,"div",5)(8,"div",6)(9,"div",7),f(),t(10,"svg",8),g(11,"path",9),r()(),b(),t(12,"input",10),v("ngModelChange",function(d){return k(e.search,d)||(e.search=d),d}),r()(),t(13,"div",11)(14,"span",12),n(15,"Fechas"),r(),t(16,"input",13),v("ngModelChange",function(d){return k(e.startDate,d)||(e.startDate=d),d}),r(),t(17,"span",12),n(18,"al"),r(),t(19,"input",14),v("ngModelChange",function(d){return k(e.endDate,d)||(e.endDate=d),d}),r()(),t(20,"div",15)(21,"select",16),p("ngModelChange",function(d){return e.filterByStatus(d)}),v("ngModelChange",function(d){return k(e.isState,d)||(e.isState=d),d}),t(22,"option",17),n(23,"Todos"),r(),t(24,"option",18),n(25,"Activo"),r(),t(26,"option",19),n(27,"Inactivo"),r()()()(),t(28,"table",20)(29,"thead",21)(30,"tr")(31,"th",22),n(32,"Nombre Rol"),r(),t(33,"th",22),n(34,"Descrici\xF3n"),r(),t(35,"th",22),n(36,"Fecha de creado"),r(),t(37,"th",22),n(38,"Estado"),r(),t(39,"th",22),n(40,"Usuarios habilitados"),r(),t(41,"th",22),n(42,"Usuarios inhabilitados"),r(),t(43,"th",22),n(44,"Acciones"),r()()(),t(45,"tbody"),R(46,he,17,13,"tr",23,ye),r()(),t(48,"nav",24)(49,"ul",25)(50,"li")(51,"button",26),p("click",function(){return e.prevPage()}),t(52,"span",27),n(53,"Previous"),r(),f(),t(54,"svg",28),g(55,"path",29),r()()(),R(56,xe,3,5,"li",null,W),b(),t(58,"li")(59,"button",30),p("click",function(){return e.nextPage()}),t(60,"span",27),n(61,"Next"),r(),f(),t(62,"svg",28),g(63,"path",31),r()()()()()(),y(64,ke,1,0,"div",32),b(),t(65,"div",33)(66,"div",34)(67,"div",35)(68,"div",36)(69,"h3",37),n(70," Crear Rol "),r(),t(71,"button",38),p("click",function(){return e.isModalOpen.set(!1)}),f(),t(72,"svg",39),g(73,"path",40),r(),b(),t(74,"span",27),n(75,"Close modal"),r()()(),g(76,"tyn-form-new-role-page"),r()()()),i&2&&(o(12),x("ngModel",e.search),o(4),x("ngModel",e.startDate),o(3),x("ngModel",e.endDate),o(2),x("ngModel",e.isState),o(25),V(e.paginatedData),o(5),m("disabled",e.currentPage===1),o(5),V(G(8,ue).constructor(e.totalPages())),o(3),m("disabled",e.currentPage===e.totalPages()),o(5),h(e.isModalOpen()?64:-1),o(),m("ngClass",e.isModalOpen()?"block":"hidden"))},dependencies:[F,P,z,te,Y,$,M,X,E,Z,L],encapsulation:2})};export{j as default};
