import{a as ne,b as ie}from"./chunk-STGHGS4H.js";import{a as te}from"./chunk-5KTGGSXW.js";import{a as K,b as Q,d as M,e as R,f as X,g as E,h as Y,i as ee,l as T,m as F,n as V,p as D}from"./chunk-T2OJ7X2R.js";import{h as q,i as J,l as w}from"./chunk-BVIXMAYM.js";import{Ba as k,Ga as _,Ma as g,Pa as b,Qa as $,Sa as O,Ta as A,U as G,Ua as e,V as m,Va as t,W as u,Wa as y,X as P,Y as C,Za as h,bb as c,ca as I,cb as p,gb as r,hb as v,ia as x,ib as f,jb as S,kb as H,lb as U,mb as Z,ob as L,qb as j,sa as s}from"./chunk-Y5JR5PA6.js";import{a as W,b as B}from"./chunk-2VMXMS7J.js";function le(o,a){if(o&1){let n=h();e(0,"div",14)(1,"label",45),r(2,"Comisi\xF3n por usuario (cuando usa sala de tynbiz)"),t(),e(3,"p",46),r(4," cuando el usuario usa sala de tynbiz con los productos de tienda,por el tiempo que pasa en sala, a la due\xF1a de tienda se va cobrar "),t(),e(5,"div",47)(6,"div",34)(7,"div",13)(8,"label",48),r(9,"Moneda"),t(),e(10,"select",49),c("ngModelChange",function(l){m(n);let d=p(2);return u(d.coin.set(l))}),e(11,"option",50),r(12," S/. "),t(),e(13,"option"),r(14," USD "),t()()(),e(15,"div")(16,"label",51),r(17," Monto "),t(),e(18,"input",52),c("ngModelChange",function(l){m(n);let d=p(2);return u(d.price.set(l))}),t()()(),e(19,"div")(20,"label",51),r(21," Tiempo en sala "),t(),e(22,"div",34)(23,"div"),y(24,"input",53),t(),e(25,"div",13)(26,"select",54)(27,"option"),r(28,"Seg."),t(),e(29,"option",50),r(30,"Min."),t(),e(31,"option"),r(32,"Hora"),t()()()()()()()}if(o&2){let n=p(2);s(10),g("ngModel",n.coin()),s(8),g("ngModel",n.price())}}function se(o,a){if(o&1){let n=h();e(0,"div",14)(1,"label",45),r(2,"Precio plan"),t(),e(3,"div",34)(4,"div",13)(5,"label",48),r(6,"Moneda"),t(),e(7,"select",49),c("ngModelChange",function(l){m(n);let d=p(2);return u(d.coin.set(l))}),e(8,"option",50),r(9," S/. "),t(),e(10,"option"),r(11," USD "),t()()(),e(12,"div")(13,"label",51),r(14," Monto "),t(),e(15,"input",52),c("ngModelChange",function(l){m(n);let d=p(2);return u(d.price.set(l))}),t()()()()}if(o&2){let n=p(2);s(7),g("ngModel",n.coin()),s(8),g("ngModel",n.price())}}function de(o,a){if(o&1){let n=h();e(0,"div",34)(1,"div")(2,"label",55),r(3," Descuento "),t(),e(4,"div",56)(5,"div",57),r(6," % "),t(),e(7,"input",58),c("ngModelChange",function(l){m(n);let d=p(2);return u(d.discount.set(l))}),t()()(),e(8,"div")(9,"label",55),r(10," Dias "),t(),e(11,"input",59),c("ngModelChange",function(l){m(n);let d=p(2);return u(d.promoDays.set(l))}),t()()()}if(o&2){let n=p(2);s(7),g("ngModel",n.discount()),s(4),g("ngModel",n.promoDays())}}function pe(o,a){o&1&&r(0," Comision normal ")}function ce(o,a){if(o&1&&r(0),o&2){let n=p(2);f(" El pago ",n.selectedTypePlan()," normal ")}}function me(o,a){o&1&&r(0," / Mes ")}function ue(o,a){o&1&&r(0," / A\xF1o ")}function ge(o,a){o&1&&r(0," por venta ")}function xe(o,a){if(o&1){let n=h();e(0,"div"),y(1,"div",0),e(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),r(7),t(),e(8,"button",6),c("click",function(){m(n);let l=p();return u(l.onClose())}),P(),e(9,"svg",7),y(10,"path",8),t(),C(),e(11,"span",9),r(12,"Close modal"),t()()(),e(13,"div",10)(14,"div",11)(15,"div",12)(16,"div")(17,"form",13)(18,"div",14)(19,"label",15),r(20," Nombre del plan suscripci\xF3n "),t(),e(21,"input",16),c("ngModelChange",function(l){m(n);let d=p();return u(d.namePlan.set(l))}),t()(),e(22,"div",14)(23,"label",17),r(24,"Descripci\xF3n"),t(),e(25,"textarea",18),c("ngModelChange",function(l){m(n);let d=p();return u(d.descriptionPlan.set(l))}),t()(),e(26,"div",14)(27,"label",17),r(28,"Tipo de plan"),t(),e(29,"div",19)(30,"div",20)(31,"input",21),c("change",function(){m(n);let l=p();return u(l.selectedTypePlan.set("uso de tynbiz"))}),t(),e(32,"label",22),r(33,"Uso de Tynbiz"),t()(),e(34,"div",20)(35,"input",23),c("change",function(){m(n);let l=p();return u(l.selectedTypePlan.set("mensual"))}),t(),e(36,"label",24),r(37,"Mensual"),t()(),e(38,"div",20)(39,"input",25),c("change",function(){m(n);let l=p();return u(l.selectedTypePlan.set("anual"))}),t(),e(40,"label",26),r(41,"Anual"),t()()()(),_(42,le,33,2,"div",14)(43,se,16,2,"div",14),e(44,"div",14)(45,"label",17),r(46,"Estado"),t(),e(47,"select",27),c("ngModelChange",function(l){m(n);let d=p();return u(d.estado.set(l))}),e(48,"option",28),r(49,"Activo"),t(),e(50,"option",29),r(51,"Inactivo"),t()()(),e(52,"div",14)(53,"label",30)(54,"input",31),c("ngModelChange",function(l){m(n);let d=p();return u(d.isOffer.set(l))}),t(),e(55,"span",32),r(56,"Promoci\xF3n"),t(),y(57,"div",33),t()(),_(58,de,12,2,"div",34),t()(),e(59,"div")(60,"h4",35),r(61,"Vista previa"),t(),e(62,"p",36),r(63," Esta es la vista de como se ver\xE1 el plan creado para las tiendas. "),t(),e(64,"div",37)(65,"h5",38),r(66),t(),e(67,"p",39),r(68),t(),e(69,"p",39),_(70,pe,1,0)(71,ce,1,1),t(),e(72,"p",40),r(73),e(74,"span",41),_(75,me,1,0)(76,ue,1,0)(77,ge,1,0),t()()()()(),e(78,"div",42)(79,"button",43),c("click",function(){m(n);let l=p();return u(l.onClose())}),r(80," Cancelar "),t(),e(81,"button",44),c("click",function(){m(n);let l=p();return u(l.onSave())}),r(82," Aplicar "),t()()()()()()()()}if(o&2){let n,i=p();s(7),f(" ",i.selectedPlan?"Editar plan de suscripci\xF3n":"Crear nuevo plan de suscripci\xF3n"," "),s(14),g("ngModel",i.namePlan()),s(4),g("ngModel",i.descriptionPlan()),s(17),b(i.selectedTypePlan()==="uso de tynbiz"?42:43),s(5),g("ngModel",i.estado()),s(7),g("ngModel",i.isOffer()),s(4),b(i.isOffer()===!0?58:-1),s(8),f(" ",i.namePlan()," "),s(2),f(" ",i.descriptionPlan()," "),s(2),b(i.selectedTypePlan()==="uso de tynbiz"?70:71),s(3),S(" ",i.coin()," ",i.price()," "),s(2),b((n=i.selectedTypePlan())==="mensual"?75:n==="anual"?76:n==="uso de tynbiz"?77:-1)}}var N=class o{visible=!1;selectedPlan=null;close=new I;save=new I;namePlan=x("");descriptionPlan=x("");price=x(0);coin=x("S/.");selectedTypePlan=x("uso de tynbiz");isOffer=x(!1);discount=x(0);promoDays=x(0);estado=x("activo");ngOnInit(){this.initForm()}ngOnChanges(a){(a.selectedPlan||a.visible)&&this.initForm()}initForm(){this.selectedPlan?(this.namePlan.set(this.selectedPlan.planName),this.descriptionPlan.set(this.selectedPlan.planDescription),this.price.set(this.selectedPlan.planPrice),this.coin.set(this.selectedPlan.planCoin),this.selectedTypePlan.set(this.selectedPlan.planType),this.estado.set(this.selectedPlan.planState),this.isOffer.set(this.selectedPlan.promotional==="true"),this.discount.set(this.selectedPlan.percentage||0),this.promoDays.set(this.selectedPlan.promDuration||0)):(this.namePlan.set(""),this.descriptionPlan.set(""),this.price.set(0),this.coin.set("USD"),this.selectedTypePlan.set("uso de tynbiz"),this.estado.set("activo"),this.isOffer.set(!1),this.discount.set(0),this.promoDays.set(0))}onClose(){this.close.emit()}onSave(){let a={id:this.selectedPlan?.id||Date.now(),planName:this.namePlan(),planDescription:this.descriptionPlan(),planPrice:this.price(),planCoin:this.coin(),planType:this.selectedTypePlan(),planState:this.estado(),promotional:this.isOffer()?"true":"false",percentage:this.discount(),promDuration:this.promoDays(),planDate:new Date().toISOString().split("T")[0]};this.save.emit(a)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=k({type:o,selectors:[["tyn-planes-suscription-form-modal-page"]],inputs:{visible:"visible",selectedPlan:"selectedPlan"},outputs:{close:"close",save:"save"},features:[G],decls:1,vars:1,consts:[[1,"fixed","inset-0","bg-black","opacity-50","z-40"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"relative","p-4","w-full","max-w-4xl","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow-sm","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","mb-4","border-b","rounded-t","dark:border-gray-600","border-gray-200"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"p-4","md:p-5","space-y-4"],[1,"relative","overflow-x-auto"],[1,"grid","grid-cols-1","m-2","md:grid-cols-2","gap-4"],[1,""],[1,"mb-5"],["for","base-input",1,"block","mb-2","text-sm","font-bold","text-gray-900","dark:text-white"],["type","text","id","base-input","name","name",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["for","message",1,"block","mb-2","text-sm","font-bold","text-gray-900","dark:text-white"],["id","message","rows","4","name","desc","placeholder","Descripci\xF3n del Plan",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-purple-500","focus:border-purple-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],[1,"flex","ml-2"],[1,"flex","items-center","me-4"],["id","inline-radio","type","radio","name","type",1,"w-4","h-4","text-purple-600","bg-gray-100","border-gray-300","focus:ring-purple-500","dark:focus:ring-purple-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],["for","inline-radio",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["id","inline-2-radio","type","radio","name","type",1,"w-4","h-4","text-purple-600","bg-gray-100","border-gray-300","focus:ring-purple-500","dark:focus:ring-purple-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],["for","inline-2-radio",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["id","inline-checked-radio","type","radio","name","type",1,"w-4","h-4","text-purple-600","bg-gray-100","border-gray-300","focus:ring-purple-500","dark:focus:ring-purple-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change"],["for","inline-checked-radio",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["name","estado",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["value","activo","selected",""],["value","inactivo"],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","name","Offer","value","isOffer",1,"sr-only","peer",3,"ngModelChange","ngModel"],[1,"text-sm","mr-3","font-bold","text-gray-900","dark:text-gray-300"],[1,"relative","w-11","h-6","bg-gray-200","rounded-full","peer","peer-focus:ring-4","peer-focus:ring-purple-300","dark:peer-focus:ring-purple-800","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-0.5","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-purple-600","dark:peer-checked:bg-purple-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text-sm","font-bold"],[1,"text-sm","font-normal"],[1,"max-w-sm","m-5","p-6","bg-white","border","text-center","border-gray-200","rounded-lg","shadow-sm","dark:bg-gray-800","dark:border-gray-700"],[1,"mb-2","text-xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mb-3","text-sm","font-normal","text-gray-700","dark:text-gray-400"],[1,"w-full","text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"font-normal"],[1,"flex","justify-end","mt-6"],["type","button",1,"py-2.5","px-5","ms-3","text-sm","font-medium","text-gray-900","focus:outline-none","bg-white","rounded-lg","border","border-gray-200","hover:bg-gray-200","hover:border-gray-300","hover:text-gray-600","focus:z-10","focus:ring-4","focus:ring-gray-100","dark:focus:ring-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:border-gray-600","dark:hover:text-white","dark:hover:bg-gray-700",3,"click"],["type","submit",1,"bg-purple-600","ml-6","hover:bg-purple-800","text-white","focus:ring-purple-300","dark:focus:ring-purple-800","focus:ring-4","focus:outline-none","font-medium","rounded-lg","text-sm","inline-flex","items-center","px-5","py-2.5","text-center",3,"click"],["for","message",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-sm","font-normal","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mt-5"],["for","message",1,"block","mb-2","text-sm","font-normal","text-gray-900","dark:text-white"],["id","coin","name","coin",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["selected",""],["for","base-input",1,"block","mb-2","text-sm","font-normal","text-gray-900","dark:text-white"],["type","number","id","base-input","name","price",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["type","number","id","base-input",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500"],["id","status",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500"],["for","base-input",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"relative","mb-6"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3.5","pointer-events-none"],["type","number","id","base-input","name","discount",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","ps-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["type","number","id","base-input","name","days",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"]],template:function(n,i){n&1&&_(0,xe,83,13,"div"),n&2&&b(i.visible?0:-1)},dependencies:[D,Y,F,V,Q,ee,K,T,M,R,E,X,w],encapsulation:2})};var _e=()=>[5,10,15,20,50],fe=()=>[],be=(o,a)=>({"text-red-500":o,"text-green-500":a}),ye=(o,a)=>({"z-10 text-purple-600 border-purple-400 bg-purple-300 hover:bg-purple-100 hover:text-purple-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":o,"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white":a}),he=(o,a)=>a.id;function Pe(o,a){if(o&1&&(e(0,"td",31),r(1),y(2,"br"),e(3,"span",38),r(4),t()()),o&2){let n=p().$implicit;s(),f(" Por ",n.promDuration," d\xEDas "),s(3),f(" ",n.percentage,"% de descuento ")}}function Ce(o,a){o&1&&(e(0,"td",31),r(1," --- "),t())}function ve(o,a){if(o&1){let n=h();e(0,"li",40),c("click",function(){m(n);let l=p(3);return u(l.openModalWar("activar"))}),r(1," Activar "),t()}}function ke(o,a){if(o&1){let n=h();e(0,"div",37)(1,"ul",39)(2,"li",40),c("click",function(){m(n);let l=p().$implicit,d=p();return u(d.openFormModal("editar",l))}),r(3," Editar "),t(),e(4,"li",40),c("click",function(){m(n);let l=p(2);return u(l.openModalWar("eliminar"))}),r(5," Eliminar "),t(),_(6,ve,2,0,"li",41),t()()}if(o&2){let n=p().$implicit;s(6),b(n.planState==="inactivo"?6:-1)}}function Se(o,a){if(o&1){let n=h();e(0,"tr",9)(1,"th",28),r(2),t(),e(3,"td",29),r(4),t(),e(5,"td",30),r(6),t(),e(7,"td",30),r(8),t(),_(9,Pe,5,2,"td",31)(10,Ce,2,0,"td",31),e(11,"td",30),r(12),t(),e(13,"td",30),r(14),t(),e(15,"td",32)(16,"div",33)(17,"button",34),c("click",function(){let l=m(n).$implicit,d=p();return u(d.toggleDropdown(l))}),P(),e(18,"svg",35),y(19,"path",36),t()(),_(20,ke,7,1,"div",37),t()()()}if(o&2){let n=a.$implicit,i=p();s(2),f(" ",n.planName," "),s(),g("ngClass",j(10,be,n.planState==="inactivo",n.planState==="activo")),s(),f(" ",n.planState," "),s(2),S("",n.planCoin," ",n.planPrice,""),s(2),v(n.planType),s(),b(n.promotional==="true"?9:10),s(3),v(n.planDescription),s(2),v(n.planDate),s(6),b(i.openDropdownIndex===n.id?20:-1)}}function we(o,a){if(o&1&&(e(0,"option",14),r(1),t()),o&2){let n=a.$implicit;g("value",n),s(),v(n)}}function Me(o,a){if(o&1){let n=h();e(0,"li")(1,"button",42),c("click",function(){let l=m(n).index,d=p();return u(d.setPage(l+1))}),r(2),t()()}if(o&2){let n=a.index,i=p();s(),g("ngClass",j(2,ye,i.currentPage===n+1,i.currentPage!==n+1)),s(),f(" ",n+1," ")}}var z=class o{planList=te;selectedPlan=!0;openDropdownIndex=null;currentPage=1;itemsPerPage=10;itemName="";modalVisible=!1;successModalVisible=!1;currentAction="eliminar";successType="success";toggleDropdown(a){this.selectedPlan=a,this.openDropdownIndex=this.openDropdownIndex===a.id?null:a.id}openModalWar(a){this.modalVisible=!0,this.currentAction=a,this.openDropdownIndex=null}closeModalWar(){this.modalVisible=!1,this.selectedPlan=null}closeSuccessModal(){this.successModalVisible=!1}confirmAction(){this.modalVisible=!1,this.itemName=this.selectedPlan.title,this.currentAction==="activar"?this.selectedPlan.estate==="activo"?this.successType="warning":(this.planList=this.planList.map(n=>n.id===this.selectedPlan.id?B(W({},n),{planState:"activo"}):n),this.successType="success"):this.currentAction==="eliminar"&&(this.selectedPlan.noSePuedeEliminar?this.successType="error":(this.planList=this.planList.filter(a=>a.id!==this.selectedPlan.id),this.successType="success")),this.successModalVisible=!0}totalPages(){return Math.ceil(this.planList.length/this.itemsPerPage)}get paginatedData(){let a=(this.currentPage-1)*this.itemsPerPage;return this.planList.slice(a,this.currentPage*this.itemsPerPage)}goToPage(a){a>=1&&a<=this.totalPages()&&(this.currentPage=a)}setPage(a){this.currentPage=a}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages()&&this.currentPage++}onItemsPerPageChange(a){this.itemsPerPage=a,this.currentPage=1}formModalVisible=x(!1);modalMode="crear";openFormModal(a,n=null){this.modalMode=a,this.selectedPlan=n,this.formModalVisible.set(!0),this.openDropdownIndex=null}closeFormModal(){this.formModalVisible.set(!1),this.selectedPlan=null}onSavePlan(a){if(this.modalMode==="crear")this.planList.push(a);else{let n=this.planList.findIndex(i=>i.id===a.id);n!==-1&&(this.planList[n]=a)}this.closeFormModal()}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=k({type:o,selectors:[["tyn-planes-suscription-page"]],decls:60,vars:16,consts:[[1,"relative","overflow-x-auto","shadow-md","px-5","pb-5","md:pb-10","md:px-10","m-4"],[1,"mb-6","mt-2","text-gray-900","dark:text-white","flex","justify-between"],[1,"text-2xl","font-semibold"],["data-modal-hide","default-modal","type","button",1,"text-white","bg-purple-700","ml-4","hover:bg-purple-900","focus:ring-4","focus:outline-none","focus:ring-purple-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-purple-600","dark:hover:bg-purple-700","dark:focus:ring-purple-800",3,"click"],[1,"overflow-x-auto"],[1,"relative","shadow-md","rounded-md"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"flex","justify-between"],[1,"flex","my-6","items-center"],[1,"text-sm","text-gray-700"],[1,"justify-center","ml-2","block","w-14","py-0","px-2","h-8","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-purple-500","focus:border-purple-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],[3,"value"],[1,"justify-end"],["aria-label","Page navigation example ",1,"my-6","flex","justify-center"],[1,"flex","items-center","-space-x-px","h-8","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-2.5","h-2.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[3,"close","save","visible","selectedPlan"],[3,"confirm","cancel","visible","itemName","actionLabel","actionType"],[3,"close","visible","itemName","actionType","succesType"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4",3,"ngClass"],[1,"px-6","py-4"],[1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"relative","px-6","py-4"],[1,"relative","inline-block"],[1,"text-xl","px-2","py-1",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 4 15",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["d","M3.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6.041a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 5.959a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"],[1,"absolute","right-0","mt-2","w-40","bg-white","border","border-purple-400","rounded-md","shadow-lg","z-50","dark:bg-purple-700"],[1,"text-green-600"],[1,"text-sm","text-gray-700","dark:text-gray-200"],[1,"block","px-4","py-2","hover:bg-purple-300","dark:hover:bg-purple-600","cursor-pointer",3,"click"],[1,"block","px-4","py-2","hover:bg-purple-300","dark:hover:bg-purple-600","cursor-pointer"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","border",3,"click","ngClass"]],template:function(n,i){n&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),r(4,"Plan de suscripci\xF3n"),t(),e(5,"p"),r(6," Planes de suscripci\xF3n para que las tiendas puedan elegir y vender en la plataforma "),t()(),e(7,"div")(8,"button",3),c("click",function(){return i.openFormModal("crear")}),r(9," Crear nuevo plan "),t()()(),e(10,"div",4)(11,"div",5)(12,"table",6)(13,"thead",7)(14,"tr")(15,"th",8),r(16,"Nombre"),t(),e(17,"th",8),r(18,"Estado"),t(),e(19,"th",8),r(20,"Precio"),t(),e(21,"th",8),r(22,"Tipo"),t(),e(23,"th",8),r(24,"Promocion"),t(),e(25,"th",8),r(26,"Descripcion"),t(),e(27,"th",8),r(28,"Fecha"),t(),e(29,"th",8),r(30,"Opci\xF3n"),t()()(),e(31,"tbody"),O(32,Se,21,13,"tr",9,he),t()()(),e(34,"div",10)(35,"div",11)(36,"p",12),r(37,"Filas por p\xE1gina:"),t(),e(38,"select",13),Z("ngModelChange",function(d){return U(i.itemsPerPage,d)||(i.itemsPerPage=d),d}),c("ngModelChange",function(d){return i.onItemsPerPageChange(d)}),O(39,we,2,2,"option",14,$),t()(),e(41,"div",15)(42,"nav",16)(43,"ul",17)(44,"li")(45,"button",18),c("click",function(){return i.prevPage()}),e(46,"span",19),r(47,"Previous"),t(),P(),e(48,"svg",20),y(49,"path",21),t()()(),_(50,Me,3,5,"li",22),C(),e(51,"li")(52,"button",23),c("click",function(){return i.nextPage()}),e(53,"span",19),r(54,"Next"),t(),P(),e(55,"svg",20),y(56,"path",24),t()()()()()()()()(),C(),e(57,"tyn-planes-suscription-form-modal-page",25),c("close",function(){return i.closeFormModal()})("save",function(d){return i.onSavePlan(d)}),t(),e(58,"tyn-warning-modal",26),c("confirm",function(){return i.confirmAction()})("cancel",function(){return i.closeModalWar()}),t(),e(59,"tyn-success-modal",27),c("close",function(){return i.closeSuccessModal()}),t()),n&2&&(s(32),A(i.planList),s(6),H("ngModel",i.itemsPerPage),s(),A(L(14,_e)),s(6),g("disabled",i.currentPage===1),s(5),g("ngForOf",L(15,fe).constructor(i.totalPages())),s(2),g("disabled",i.currentPage===i.totalPages()),s(5),g("visible",i.formModalVisible())("selectedPlan",i.selectedPlan),s(),g("visible",i.modalVisible)("itemName",i.selectedPlan==null?null:i.selectedPlan.planName)("actionLabel",i.currentAction==="eliminar"?"Eliminar":"Activar")("actionType",i.currentAction),s(),g("visible",i.successModalVisible)("itemName",i.itemName)("actionType",i.currentAction)("succesType",i.successType))},dependencies:[w,q,J,D,F,V,T,M,E,ne,N,ie],encapsulation:2})};export{z as default};
