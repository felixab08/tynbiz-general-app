import{b}from"./chunk-BBFVDYC4.js";import{b as I,d as N,g as V,p as G}from"./chunk-T2OJ7X2R.js";import{h as T,i as W,k as j,l as B}from"./chunk-BVIXMAYM.js";import{Ba as C,Ga as S,Ma as g,Sa as D,Ta as M,Ua as e,V as P,Va as a,W as _,Wa as c,X as m,Y as f,Za as A,bb as u,cb as k,gb as n,hb as p,ib as w,kb as h,lb as y,mb as x,ob as E,qb as L,sa as s,sb as F,ub as U}from"./chunk-Y5JR5PA6.js";import"./chunk-2VMXMS7J.js";var H=()=>[],R=(l,r)=>({"z-10 text-purple-600 border-purple-400 bg-purple-300 hover:bg-purple-100 hover:text-purple-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":l,"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white":r}),z=(l,r)=>r.id;function Z(l,r){if(l&1&&(e(0,"tr",16)(1,"th",26),n(2),a(),e(3,"td",27),n(4),c(5,"br"),a(),e(6,"td",26),n(7),F(8,"date"),a(),e(9,"td",26),n(10),a(),e(11,"td",26),n(12),a()()),l&2){let i=r.$implicit;s(2),p(i.rol),s(2),w(" ",i.nameUser,""),s(3),p(U(8,5,i.dateAction,"medium")),s(3),p(i.module),s(2),p(i.action)}}function q(l,r){if(l&1){let i=A();e(0,"li")(1,"button",28),u("click",function(){let d=P(i).index,o=k();return _(o.setPage(d+1))}),n(2),a()()}if(l&2){let i=r.index,t=k();s(),g("ngClass",L(2,R,t.currentPage===i+1,t.currentPage!==i+1)),s(),w(" ",i+1," ")}}var v=class l{userActions=[...b];isState="All";currentPage=1;itemsPerPage=10;search="";startDate="";endDate="";filterByStatus(r){let t=r==="All"?b:b.filter(d=>d.status===r);this.userActions=[...t]}get filteredData(){return this.userActions.filter(r=>{let i=r.nameUser.toLowerCase().includes(this.search.toLowerCase()),t=new Date(r.dateCreate),d=this.startDate?new Date(this.startDate):null,o=this.endDate?new Date(this.endDate):null,O=(!d||t>=d)&&(!o||t<=o);return i&&O})}get paginatedData(){let r=(this.currentPage-1)*this.itemsPerPage;return this.filteredData.slice(r,r+this.itemsPerPage)}totalPages(){return Math.ceil(this.filteredData.length/this.itemsPerPage)}goToPage(r){r>=1&&r<=this.totalPages()&&(this.currentPage=r)}setPage(r){this.currentPage=r}prevPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages()&&this.currentPage++}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=C({type:l,selectors:[["tyn-list-actions-user-page"]],decls:48,vars:7,consts:[[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg","px-10","m-4"],[1,"mb-6","text-gray-900","dark:text-white"],[1,"text-2xl","font-semibold"],[1,"flex","items-center","justify-between","pb-4"],[1,"relative"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","placeholder","Palabra clave",1,"block","w-full","p-2.5","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-purple-500","focus:border-purple-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],[1,"flex","items-center"],[1,"mx-4","text-gray-500"],["type","date","placeholder","Fecha desde",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],["type","date","placeholder","Fecha hasta",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-purple-500","focus:border-purple-500","block","w-full","p-2","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-purple-500","dark:focus:border-purple-500",3,"ngModelChange","ngModel"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","overflow-x-auto"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3","text-center"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600"],["aria-label","Page navigation example ",1,"my-6","flex","justify-center"],[1,"flex","items-center","-space-x-px","h-8","text-sm"],[1,"flex","items-center","justify-center","px-3","h-8","ms-0","leading-tight","text-gray-500","bg-white","border","border-e-0","border-gray-300","rounded-s-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-2.5","h-2.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-e-lg","hover:bg-gray-100","hover:text-gray-700","dark:bg-gray-800","dark:border-gray-700","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[1,"px-6","py-4"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"flex","items-center","justify-center","px-3","h-8","leading-tight","border",3,"click","ngClass"]],template:function(i,t){i&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Registro de acciones del usuario"),a()(),e(4,"div",3)(5,"div",4)(6,"div",5),m(),e(7,"svg",6),c(8,"path",7),a()(),f(),e(9,"input",8),x("ngModelChange",function(o){return y(t.search,o)||(t.search=o),o}),a()(),e(10,"div",9)(11,"span",10),n(12,"Fechas"),a(),e(13,"input",11),x("ngModelChange",function(o){return y(t.startDate,o)||(t.startDate=o),o}),a(),e(14,"span",10),n(15,"al"),a(),e(16,"input",12),x("ngModelChange",function(o){return y(t.endDate,o)||(t.endDate=o),o}),a()()(),e(17,"table",13)(18,"thead",14)(19,"tr")(20,"th",15),n(21,"Rol"),a(),e(22,"th",15),n(23,"Usuario"),a(),e(24,"th",15),n(25,"Fecha"),a(),e(26,"th",15),n(27,"Modulo"),a(),e(28,"th",15),n(29,"Acci\xF3n"),a()()(),e(30,"tbody"),D(31,Z,13,8,"tr",16,z),a()(),e(33,"nav",17)(34,"ul",18)(35,"li")(36,"button",19),u("click",function(){return t.prevPage()}),e(37,"span",20),n(38,"Previous"),a(),m(),e(39,"svg",21),c(40,"path",22),a()()(),S(41,q,3,5,"li",23),f(),e(42,"li")(43,"button",24),u("click",function(){return t.nextPage()}),e(44,"span",20),n(45,"Next"),a(),m(),e(46,"svg",21),c(47,"path",25),a()()()()()()),i&2&&(s(9),h("ngModel",t.search),s(4),h("ngModel",t.startDate),s(3),h("ngModel",t.endDate),s(15),M(t.paginatedData),s(5),g("disabled",t.currentPage===1),s(5),g("ngForOf",E(6,H).constructor(t.totalPages())),s(2),g("disabled",t.currentPage===t.totalPages()))},dependencies:[B,T,W,j,G,I,N,V],encapsulation:2})};export{v as default};
